# –°–≤–æ–¥–∫–∞ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ë–î - TaskFlow Monitor

## üéØ –û–°–ù–û–í–ù–ê–Ø –ö–û–ù–¶–ï–ü–¶–ò–Ø

**–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è:** 
```
User ‚Üí Team ‚Üí Project ‚Üí Task ‚Üí Dependency ‚Üí Action
```
–ì–¥–µ –∫–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–æ–≥–æ –æ—Ç–¥–µ–ª–µ–Ω –∏ –∏–º–µ–µ—Ç —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞.

---

## üß© –ú–û–î–£–õ–¨ 1: –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò (user.py)

### –°—É—â–Ω–æ—Å—Ç–∏:
1. **UserRole** - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ (–∫–ª–∏–µ–Ω—Ç, –∞–¥–º–∏–Ω, —Ç–µ—Å—Ç–µ—Ä)
2. **User** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–µ—Ä–≤–∏—Å–∞
3. **AuthSession** - —Å–µ—Å—Å–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
4. **RecoveryCode** - –∫–æ–¥—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
5. **AuthLog** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:
- `UserRole` –Ω–µ –∏–º–µ–µ—Ç –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –ø—Ä–æ–µ–∫—Ç–∞–º/–∫–æ–º–∞–Ω–¥–∞–º - —ç—Ç–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
- Telegram –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ 6-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥, 5 –ø–æ–ø—ã—Ç–æ–∫, 10 –º–∏–Ω—É—Ç –∂–∏–∑–Ω–∏
- –°–µ—Å—Å–∏–∏: access token 1 —á–∞—Å, refresh token 7 –¥–Ω–µ–π
- –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ –∫–æ–º–∞–Ω–¥ –∏ –º–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤

---

## üè¢ –ú–û–î–£–õ–¨ 2: –ö–û–ú–ê–ù–î–´ (team.py)

### –°—É—â–Ω–æ—Å—Ç–∏:
1. **TeamMemberRole** - —Ä–æ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã (owner, admin, member)
2. **Team** - –∫–æ–º–∞–Ω–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **TeamMember** - —Å–≤—è–∑—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∫–æ–º–∞–Ω–¥–æ–π
4. **TeamInvitation** - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥—É

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

**–ü—Ä–∞–≤–∞ —Ä–æ–ª–µ–π –≤ –∫–æ–º–∞–Ω–¥–µ:**
- **Owner** (priority 100): –º–æ–∂–µ—Ç –≤—Å—ë (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π, –ø—Ä–æ–µ–∫—Ç–∞–º–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏)
- **Admin** (priority 80): —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **Member** (priority 50): —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö

**–ö–æ–¥ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –∫–æ–º–∞–Ω–¥—É:**
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
- –ñ–∏–≤–µ—Ç 1 —á–∞—Å
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–π–Ω–æ (–ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –∏—Å—Ç–µ–∫)
- –õ—é–±–æ–π, —É –∫–æ–≥–æ –µ—Å—Ç—å –∫–æ–¥, –º–æ–∂–µ—Ç –≤—Å—Ç—É–ø–∏—Ç—å

**–ü—Ä–∞–≤–∏–ª–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è:**
- –¢–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ü—Ä–∏ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è TeamMember —Å —Ä–æ–ª—å—é 'member'
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Invitations - –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–æ–ª–∏

---

## üìä –ú–û–î–£–õ–¨ 3: –ü–†–û–ï–ö–¢–´ (project.py)

### –°—É—â–Ω–æ—Å—Ç–∏:
1. **ProjectRole** - —Ä–æ–ª–∏ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ (owner, manager, developer, observer)
2. **Project** - –ø—Ä–æ–µ–∫—Ç, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏–π –∫–æ–º–∞–Ω–¥–µ
3. **ProjectMember** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
4. **ProjectInvitation** - –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

**–ü—Ä–∞–≤–∞ —Ä–æ–ª–µ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ:**

| –†–æ–ª—å | priority | –°–æ–∑–¥. –∑–∞–¥–∞—á | –†–µ–¥. —á—É–∂–∏–µ | –£–¥. —á—É–∂–∏–µ | –°–æ–∑–¥. —Å–≤—è–∑–µ–π | –£–ø—Ä. —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ |
|------|----------|-------------|------------|-----------|--------------|------------------|
| **Owner** | 100 | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| **Manager** | 80 | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ |
| **Developer** | 60 | ‚úÖ | ‚ùå | ‚ùå | ‚úÖ | ‚ùå |
| **Observer** | 40 | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ùå |

**–í–ê–ñ–ù–û:** Developer –º–æ–∂–µ—Ç:
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏ ‚úÖ
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏ ‚úÖ
- –°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –õ–Æ–ë–´–ú–ò –∑–∞–¥–∞—á–∞–º–∏ (—á—É–∂–∏–º–∏ –≤ —Ç–æ–º —á–∏—Å–ª–µ) ‚úÖ
- –ù–ï –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —á—É–∂–∏–µ –∑–∞–¥–∞—á–∏ ‚ùå
- –ù–ï –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚ùå

**–ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**
- –£—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–ª–µ–Ω–æ–º –∫–æ–º–∞–Ω–¥—ã-–≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç —á–µ–ª–æ–≤–µ–∫–∞, –Ω–µ —Å–æ—Å—Ç–æ—è—â–µ–≥–æ –≤ –∫–æ–º–∞–Ω–¥–µ
- –ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç = –≤—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã + –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏

---

## ‚úÖ –ú–û–î–£–õ–¨ 4: –ó–ê–î–ê–ß–ò –ò –ì–†–ê–§ (task.py)

### –°—É—â–Ω–æ—Å—Ç–∏:
1. **TaskStatus** - —Å—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á (todo, in_progress, review, completed, blocked)
2. **DependencyActionType** - —Ç–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ —Ä–µ–±—Ä–∞—Ö
3. **Task** - –∑–∞–¥–∞—á–∞ (—Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á project_id + id)
4. **TaskDependency** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –∑–∞–¥–∞—á–∞–º–∏ (—Ä–µ–±—Ä–æ –≥—Ä–∞—Ñ–∞)
5. **DependencyAction** - –¥–µ–π—Å—Ç–≤–∏–µ –Ω–∞ —Ä–µ–±—Ä–µ (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)
6. **TaskEvent** - –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π –∑–∞–¥–∞—á–∏
7. **ScheduledAction** - –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:

**–°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á Task:**
```python
PRIMARY KEY (project_id, id)  # id –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç –≤ —Ä–∞–º–∫–∞—Ö —Ç–∞–±–ª–∏—Ü—ã
```
- –ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ —É–Ω–∏–∫–∞–ª–µ–Ω –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –í–æ –≤—Å–µ—Ö —Å–≤—è–∑—è—Ö –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø–∞—Ä–∞ (project_id, task_id)

**–•—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞:**
- **–ù–ï –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç** ‚ùå
- **–î–≤–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:**
  1. `Project.graph_data` - –ø–æ–ª–Ω—ã–π JSON —ç–∫—Å–ø–æ—Ä—Ç –∏–∑ ReactFlow (–¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞)
  2. `TaskDependency` - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å–≤—è–∑–µ–π (–¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏)

**–î–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Ä–µ–±—Ä–∞—Ö:**
- –û–¥–Ω–æ —Ä–µ–±—Ä–æ = –ú–ù–û–ì–û –¥–µ–π—Å—Ç–≤–∏–π
- –¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π:
  - `notify_assignee` - —É–≤–µ–¥–æ–º–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è —Ü–µ–ª–µ–≤–æ–π –∑–∞–¥–∞—á–∏
  - `notify_creator` - —É–≤–µ–¥–æ–º–∏—Ç—å —Å–æ–∑–¥–∞—Ç–µ–ª—è –∏—Å—Ö–æ–¥–Ω–æ–π –∑–∞–¥–∞—á–∏  
  - `notify_custom` - —É–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `change_status` - –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
  - `create_subtask` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–∑–∞–¥–∞—á—É
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (delay_minutes)

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π:**
- **–ù–ï–¢ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –≥—Ä–∞—Ñ ‚ùå
- **–¢–û–õ–¨–ö–û —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** ‚úÖ
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å—Ö–æ–¥—è—â–∏–µ —Ä–µ–±—Ä–∞ ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è
- –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤—Ö–æ–¥—è—â–∏–µ —Ä–µ–±—Ä–∞ ‚Üí –æ–±–Ω–æ–≤–ª—è–µ–º readiness

**–î–µ–¥–ª–∞–π–Ω—ã –∏ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
- –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô –≤–æ—Ä–∫–µ—Ä - —Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `ScheduledAction`
- –ü–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∑–∞ 24/1 —á–∞—Å –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞, –ø—Ä–æ—Å—Ä–æ—á–∫–∞
- –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

**Readiness –∑–∞–¥–∞—á–∏:**
- –ó–∞–¥–∞—á–∞ "–≥–æ—Ç–æ–≤–∞ –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é", –∫–æ–≥–¥–∞ –í–°–ï –µ—ë –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î –∫–∞–∫ –ø–æ–ª–µ (—Ç–æ–ª—å–∫–æ –∫—ç—à)

---

## üîê –°–ö–í–û–ó–ù–´–ï –ü–†–ê–í–ò–õ–ê –î–û–°–¢–£–ü–ê

### –£—Ä–æ–≤–µ–Ω—å 1: –ö–æ–º–∞–Ω–¥–∞
```
- –í—Å—Ç—É–ø–∏—Ç—å –ø–æ –∫–æ–¥—É: –º–æ–∂–µ—Ç –ª—é–±–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
- –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å: Admin, Owner
- –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞: Admin, Owner
- –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç: Admin, Owner
```

### –£—Ä–æ–≤–µ–Ω—å 2: –ü—Ä–æ–µ–∫—Ç
```
- –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É: –≤—Å–µ, –∫—Ä–æ–º–µ Observer
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É: 
  ‚Ä¢ Owner/Manager: –ª—é–±—ã–µ
  ‚Ä¢ Developer: —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ (creator_id == me –∏–ª–∏ assignee_id == me)
- –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É: —Ç–æ–ª—å–∫–æ Owner/Manager
- –°–æ–∑–¥–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:
  ‚Ä¢ Owner/Manager: –ª—é–±—ã–µ
  ‚Ä¢ Developer: –µ—Å–ª–∏ source_task - –º–æ–π –ò–õ–ò target_task - –º–æ–π
- –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å: —Ç–æ–ª—å–∫–æ Owner/Manager
- –£–ø—Ä–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: —Ç–æ–ª—å–∫–æ Owner/Manager
```

### –£—Ä–æ–≤–µ–Ω—å 3: –ó–∞–¥–∞—á–∞
```
- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å: 
  ‚Ä¢ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å
  ‚Ä¢ –°–æ–∑–¥–∞—Ç–µ–ª—å: –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å
  ‚Ä¢ Manager/Owner: –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å
- –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: 
  ‚Ä¢ –°–æ–∑–¥–∞—Ç–µ–ª—å –∑–∞–¥–∞—á–∏
  ‚Ä¢ Manager/Owner
```

---

## ‚ö° –ü–ê–¢–¢–ï–†–ù–´ –†–ê–ë–û–¢–´ –° –ì–†–ê–§–û–ú

### 1. –ß—Ç–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```sql
-- –ü–æ–ª–Ω—ã–π –≥—Ä–∞—Ñ –¥–ª—è ReactFlow
SELECT graph_data FROM projects WHERE id = ?

-- –ò–ª–∏ —Å–±–æ—Ä–∫–∞ –Ω–∞ –ª–µ—Ç—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤)
SELECT * FROM tasks WHERE project_id = ?
SELECT * FROM task_dependencies WHERE project_id = ?
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏:
```sql
-- –í—Å–µ –ø—Ä–µ–¥—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã?
SELECT COUNT(*) FROM task_dependencies d
LEFT JOIN tasks t ON t.id = d.source_task_id
WHERE d.target_task_id = ? AND d.project_id = ?
  AND (t.status_id != (SELECT id FROM task_statuses WHERE name = 'completed'))
```

### 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏:
```python
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å—Ö–æ–¥—è—â–∏–µ —Ä–µ–±—Ä–∞ –æ—Ç completed task
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±—Ä–∞ –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ DependencyAction
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–æ–≤)
4. –î–ª—è –∫–∞–∂–¥–æ–π —Ü–µ–ª–µ–≤–æ–π –∑–∞–¥–∞—á–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å readiness
5. –ï—Å–ª–∏ —Å—Ç–∞–ª–∞ ready - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
```

### 4. –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
```python
1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏ —Å –¥–µ–¥–ª–∞–π–Ω–æ–º ‚Üí —Å–æ–∑–¥–∞—Ç—å ScheduledAction
2. –†–∞–∑ –≤ –º–∏–Ω—É—Ç—É: SELECT * FROM scheduled_actions 
   WHERE scheduled_for <= NOW() AND status = 'pending'
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å, –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```

---

## üì¶ –ò–¢–û–ì–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –ë–î

```
user_roles
users
auth_sessions
recovery_codes
auth_logs
       ‚Üì
team_member_roles
teams
team_members
team_invitations
       ‚Üì
project_roles
projects
project_members
project_invitations
       ‚Üì
task_statuses
dependency_action_types
tasks (PK: project_id, id)
task_dependencies
dependency_actions
task_events
scheduled_actions
```

---

## üö´ –ß–ï–ì–û –ù–ï –î–ï–õ–ê–¢–¨ (–ó–ê–ü–û–ú–ù–ò–¢–¨!)

1. **–ù–ï** —Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä–∞—Ñ –≤ –±–∏–Ω–∞—Ä–Ω–æ–º –≤–∏–¥–µ ‚ùå
2. **–ù–ï** –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–∞ ‚ùå
3. **–ù–ï** —Ö—Ä–∞–Ω–∏—Ç—å readiness –∑–∞–¥–∞—á–∏ –≤ –ø–æ–ª–µ (—Ç–æ–ª—å–∫–æ –≤—ã—á–∏—Å–ª—è—Ç—å –∏–ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å) ‚ùå
4. **–ù–ï** –¥–∞–≤–∞—Ç—å Developer –ø—Ä–∞–≤–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ —á—É–∂–∏—Ö –∑–∞–¥–∞—á ‚ùå
5. **–ù–ï** –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç —á–µ–ª–æ–≤–µ–∫–∞ –Ω–µ –∏–∑ –∫–æ–º–∞–Ω–¥—ã ‚ùå
6. **–ù–ï** –¥–µ–ª–∞—Ç—å —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á –±–µ–∑ –∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞ (id —Å–∞–º —Ä–∞—Å—Ç–µ—Ç) ‚ùå
7. **–ù–ï** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –≥—Ä–∞—Ñ–∞ (–æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥) ‚ùå

---

## ‚úÖ –ß–¢–û –î–ï–õ–ê–¢–¨ (–ü–ê–¢–¢–ï–†–ù–´)

1. **–†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–æ–±—ã—Ç–∏—è** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–µ–π—Å—Ç–≤–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - Redis –∏–ª–∏ in-memory –¥–ª—è –≥—Ä–∞—Ñ–∞
3. **–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë** - TaskEvent –¥–ª—è –∞—É–¥–∏—Ç–∞
4. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞** - –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ –æ—Ç–¥–µ–ª—å–Ω–æ
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JSON** - –¥–ª—è –≥–∏–±–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
6. **–î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—á–µ—Ç—á–∏–∫–∏** - members_count, tasks_count –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö —Å–ø–∏—Å–∫–æ–≤
7. **–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫** - –≤—Å–µ –ø–æ–ª—è WHERE –∏ JOIN –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö

---

–≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–µ—Ç **–ø–æ–ª–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**, **–≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∞–≤** –∏ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –±–µ–∑ –æ–≤–µ—Ä –∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞.